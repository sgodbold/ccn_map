extends layout

block content_head
	script(src='http://www.mapquestapi.com/sdk/js/v7.0.s/mqa.toolkit.js?key=Fmjtd%7Cluur2g6znu%2C2l%3Do5-9a8wuw')
 
	script(type='text/javascript').
		//An example of using the MQA.EventUtil to hook into the window load event and execute defined function passed
		//in as the last parameter. You could alternatively create a plain function here and have it executed whenever
		//you like (e.g. <body onload="yourfunction">).
		MQA.EventUtil.observe(window, 'load', function() {
			//Create an object for options.
			var options={
				elt:document.getElementById('map'), 				//ID of the element on the page where you want the map.
				zoom:10,																		//Initial zoom level of the map.
				latLng:{lat:39.743943, lng:-105.020089},		//Center of the map in latitude/longitude.
				mtype:'map',																//Map type (map).
				bestFitMargin:0,														//Margin offset from the map viewport when applying a best fit on shapes.
				zoomOnDoubleClick:true											//zoom in when double clicking on map
			}
			//Construct an instance of MQA.TileMap with the options object.
			window.map = new MQA.TileMap(options)

			MQA.withModule('largezoom','traffictoggle','viewoptions','geolocationcontrol','insetmapcontrol','mousewheel', function() {
				map.addControl(
					new MQA.LargeZoom(),
					new MQA.MapCornerPlacement(MQA.MapCorner.TOP_LEFT, new MQA.Size(5,5))
				)

				map.addControl(new MQA.TrafficToggle())

				map.addControl(new MQA.ViewOptions())

				map.addControl(
					new MQA.GeolocationControl(),
					new MQA.MapCornerPlacement(MQA.MapCorner.TOP_RIGHT, new MQA.Size(10,50))
				)

				//Inset Map Control options.
				var options={
					size:{width:150, height:125},
					zoom:3,
					mapType:'map',
					minimized:true
				}

				map.addControl(
					new MQA.InsetMapControl(options),
					new MQA.MapCornerPlacement(MQA.MapCorner.BOTTOM_RIGHT)
				)

				map.enableMouseWheelZoom()
			})
		})


block content
	h1= title
	p Welcome to #{title}

	#map(style='width:800px; height:300px')
